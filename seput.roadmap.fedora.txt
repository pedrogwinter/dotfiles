# --- FEDORA SETUP ---

 sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm -y && sudo dnf config-manager setopt fedora-cisco-openh264.enabled=1 -y && sudo dnf config-manager --enable fedora-cisco-openh264 -y && sudo dnf group upgrade core -y ; sudo dnf update @core ; sudo dnf install rpmfusion-\*-appstream-data ; sudo dnf swap ffmpeg-free ffmpeg --allowerasing -y ; sudo dnf update @multimedia --setopt="install_weak_deps=False" --exclude=PackageKit-gstreamer-plugin -y ; sudo dnf install rpmfusion-free-release-tainted rpmfusion-nonfree-release-tainted -y; sudo dnf install intel-media-driver libva-intel-driver libdvdcss -y; sudo dnf --repo=rpmfusion-nonfree-tainted install "*-firmware" -y ; sudo sed -i '/^\[main\]/a max_parallel_downloads=10\nfastestmirror=True\ndeltarpm=False\ninstall-weak-deps=False' /etc/dnf/dnf.conf -y ; dnf install --nogpgcheck --repofrompath 'terra,https://repos.fyralabs.com/terra$releasever' terra-release -y ; sudo dnf copr enable yalter/niri ; sudo dnf install git gh unzip -y ; cd ~/.config && git clone https://github.com/pedrogwinter/dotfiles && unzip dotfiles-main dotfiles || unzip dotfiles || mv dotfiles-main ./dotfiles ; cd dotfiles/ cp -r stowrc $HOME ; stow alacritty ; stow dms ; stow fish ; stow foot ; stow fuzzel ; stow gtk ; stow hypr ; stow kitty ; stow inputrc ; stow kitty ; stow libreoffice ; stow micro ; stow sheldon ; stow shell_common ; stow starship ; stow sway ; stow waybar ; stow wlogot ; stow zsh ; sudo dnf install bash-color-prompt bash-completion bashmount rustup cargo p7zip p7zip-plugins xz zstd lzip unrar binutils cpio rpm2cpio p7zip-plugins niri mangowc fuzzel alacritty SwayNotificationCenter SwayOSD sway-audio-idle-inhibit sway-systemd sway-wallpapers swayfx swayfx-config-upstream swayfx-wallpapers swaylock-effects swayidle swayimg -y ; flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo ; cargo install sheldon --locked || cargo install sheldon ; cargo install clock-rs; dnf install fish zsh zsh-autocomplete zsh-syntax-highlighting -y

$ cargo install clock-rs

mkdir -p ~/.config/sheldon && $EDITOR ~/.config/sheldon/plugins.toml

sudo dnf install


# install standalone niri
	$ sudo dnf copr enable yalter/niri
	$ sudo dnf install niri waybar fuzzel alacritty -y

# install niri + dms
	$ sudo dnf copr enable avengemedia/dms -y
	$ sudo dnf install niri dms -y
	$ systemctl --user add-wants niri.service dms
	
# install dms greeter
	$ sudo dnf copr enable avengemedia/danklinux
	$ sudo dnf install dms-greeter -y
	$ dms greeter enable
	$ dms greeter sync
	$ dms greeter status


# install mangowc
	$ sudo dnf install --nogpgcheck --repofrompath 'terra,https://repos.fyralabs.com/terra$releasever' terra-release -y
	$ sudo dnf install mangowc -y

# install sway
	$ sudo dnf install SwayNotificationCenter-bash-completion SwayNotificationCenter-fish-completion SwayNotificationCenter-zsh-completion sway-systemd swaylock-effects swaybg swayidle swayimg waybar -y

# install vscodium
	$ sudo tee -a /etc/yum.repos.d/vscodium.repo << 'EOF'
	[gitlab.com_paulcarroty_vscodium_repo]
	name=gitlab.com_paulcarroty_vscodium_repo
	baseurl=https://paulcarroty.gitlab.io/vscodium-deb-rpm-repo/rpms/
	enabled=1
	gpgcheck=1
	repo_gpgcheck=1
	gpgkey=https://gitlab.com/paulcarroty/vscodium-deb-rpm-repo/raw/master/pub.gpg
	metadata_expire=1h
	EOF
	$ sudo dnf install codium -y

#
